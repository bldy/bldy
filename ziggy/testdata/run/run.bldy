"""Example of a rule that runs a thing."""

load("bldy://std", "assert", "context")

def _impl(ctx):
    assert.fails(ctx.implements(context.build), "can't build {} outside the build context ".format(ctx.name))
    print("Building {}_{}_{} ".format(ctx.name, ctx.os, ctx.arch))

runner = rule(
    implementation = _impl,
)

runner(name = "run_test")
